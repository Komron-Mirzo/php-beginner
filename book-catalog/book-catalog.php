<?php


$books = [
    [
        "title" => "Oracle8i Database Administration",
        "isbn" => "1884777783",
        "pageCount" => 543,
        "publishedDate" => [
            "date" => "1999-11-01T00:00:00.000-0800"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/yuhanna.jpg",
        "longDescription" => "Databases are growing larger, and the use of distributed databases is on the rise. Oracle8i Database Administration addresses some of the most common yet complex issues that are faced by DBAs around the world. Oracle has the largest market share in Database Management software and is the world's second largest software company. This book is designed for for Oracle Database administrators and others who are involved in planning, programming, administration, and implementation of Oracle8 Databases. Although this book targets intermediate and advanced database administrators, it can also be an invaluable resource to entry-level DBAs, designers and developers, project managers, system administrators, data warehousing professionals or anyone interested in Oracle. Oracle8i Database Administration uses a Q&A approach that provides in-depth technical solutions. The questions in this book have been compiled from many sources including Oracle forums, the Internet, and the author's personal experiences. The book also examines features that are new in Oracle8.",
        "status" => "PUBLISH",
        "authors" => ["Noel Yuhanna"],
        "categories" => ["Client-Server", "Networking"]
    ],
    [
        "title" => "The Engaging Web",
        "isbn" => "9781935182078",
        "pageCount" => 325,
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/zichermann.jpg",
        "shortDescription" => "The Engaging Web: How Fun and Games Improve Your Site shows web developers how to incorporate games into websites. This book will help you decode the possibilities and provide a series of proven and tangible strategies that any web developer, producer, or product manager can use to implement games in their website. Whether you're looking to make games the centerpiece of your site, an added-value feature, or you just want to engage and excite your users, The Engaging Web will help you develop a strategy that harnesses the power of games.",
        "longDescription" => "Games are the fastest-growing and stickiest form of entertainment. For a website, games offer powerful potential to acquire new users, build engagement, and enhance revenue. Implementing games in a website can be complicated, though. There are hundreds of technical and process options to choose from, and the landscape is constantly shifting. The Engaging Web: How Fun and Games Improve Your Site shows web developers how to incorporate games into websites. This book will help you decode the possibilities and provide a series of proven and tangible strategies that any web developer, producer, or product manager can use to implement games in their website. Whether you're looking to make games the centerpiece of your site, an added-value feature, or you just want to engage and excite your users, The Engaging Web will help you develop a strategy that harnesses the power of games. Through this book, you will take away an in-depth understanding of the current state of the art in game and web planning and integration methodologies. It begins by presenting an understanding of basic 'funware' principles - or how non-designers can use games to further business objectives. Powerful funware designs like frequent flyer programs, casino games, and leaderboard/ladders will be deconstructed and componentized so that you can leverage their strengths for your specific site and business objectives. You'll then investigate the three basic recipes for melding games with the web, and look at specific examples of integration approaches that have been successfully deployed across various industries. Finally, you'll examine social networking considerations and look at code examples. Whether you're building a business or consumer site, games and funware design can be a powerful weapon in your battle for user engagement, stickiness, and revenue. The Engaging Web is the field guide that gives you the best tactics, techniques, and strategies for winning the war.",
        "status" => "MEAP",
        "authors" => ["Gabe Zichermann", "Chris Cunningham"],
        "categories" => ["Web Development"]
    ],
    [
        "title" => "Enterprise OSGi In Action",
        "isbn" => "1617290130",
        "pageCount" => 0,
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/cummins.jpg",
        "status" => "PUBLISH",
        "authors" => ["Holly Cummins", "Timothy Ward"],
        "categories" => []
    ],
    [
        "title" => "Ext JS in Action, Second Edition",
        "isbn" => "1617290327",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "2014-02-04T00:00:00.000-0800"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/garcia3.jpg",
        "status" => "PUBLISH",
        "authors" => ["Jesus Garcia", "Grgur Grisogono", "", "Jacob K. Andresen"],
        "categories" => []
    ],
    [
        "title" => "Android in Action, Third Edition",
        "isbn" => "1617290505",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "2011-11-15T00:00:00.000-0800"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/ableson3.jpg",
        "status" => "PUBLISH",
        "authors" => [
            "W. Frank Ableson",
            "Robi Sen",
            "Chris King",
            "C. Enrique Ortiz"
        ],
        "categories" => []
    ],
    [
        "title" => "Arduino in Action",
        "isbn" => "1617290246",
        "pageCount" => 300,
        "publishedDate" => [
            "date" => "2013-05-30T00:00:00.000-0700"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/mevans.jpg",
        "shortDescription" => "Arduino in Action is a hands-on guide to prototyping and building electronics using the Arduino platform. Suitable for beginners and advanced users, this easy to follow book begins with the basics and systematically guides you through projects ranging from your first blinking LED through connecting Arduino to devices like game controllers or your iPhone.",
        "longDescription" => "Whether you want to build an autonomous robot, automate your home electronics, or just automatically tweet when the bread is ready, you can do it with Arduino. Arduino is an inexpensive, easy-to-use, open source hardware and software platform. It supports an mind-boggling array of sensors and components that you can use to build nearly anything you can imagine. Arduino in Action is a hands-on guide to prototyping and building electronics using the Arduino platform. Suitable for beginners and advanced users, this easy to follow book begins with the basics and systematically guides you through projects ranging from your first blinking LED through connecting Arduino to devices like game controllers or your iPhone. You'll start at the very beginning: unpacking your first Arduino board, connecting it to a PC, and using the programming environment to make something happen. You'll follow progressively more complex examples as you connect your Arduino to motors, LCD displays, Wi-Fi, GPS, and Bluetooth. You'll explore a variety of input output sensors, including ultrasound, infrared, and light, along with how to use them for tasks like robotic obstacle avoidance.",
        "status" => "PUBLISH",
        "authors" => ["Martin Evans", "Joshua Noble", "", "Jordan Hochenbaum"],
        "categories" => []
    ],
    [
        "title" => "Node.js in Action",
        "isbn" => "1617290572",
        "pageCount" => 300,
        "publishedDate" => [
            "date" => "2013-10-15T00:00:00.000-0700"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/cantelon.jpg",
        "shortDescription" => "Node.js in Action is an example-driven tutorial that starts at square one and guides you through all the features, techniques, and concepts you'll need to build production-quality Node applications.",
        "longDescription" => "JavaScript on the server? Yep. Node.js is an elegant server-side JavaScript development environment perfect for scalable, high-performance web applications. With Node you access HTTP and TCP/IP functionality through a minimalist server-side Javascript interface. It supports an asynchronous programming model that enables the web server to more easily do more than one thing at a time, a key requirement for real-time applications such as chat, online games, and live statistics. And since it's JavaScript, you'll use the same language throughout your entire application. Node.js in Action is an example-driven tutorial that starts at square one and guides you through all the features, techniques, and concepts you'll need to build production-quality Node applications. You'll start by learning how to set up your Node development environment, including loading the community-created extensions. Next, you'll run several simple demonstration programs where you'll learn the basics of a few common types of Node applications. Then you'll dive into asynchronous programming, a model Node leverages to lessen application bottlenecks.",
        "status" => "PUBLISH",
        "authors" => [
            "Mike Cantelon",
            "Marc Harter",
            "T.J. Holowaychuk",
            "",
            "Nathan Rajlich"
        ],
        "categories" => ["Web Development"]
    ],
    [
        "title" => "Third-Party JavaScript ",
        "isbn" => "1617290548",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "2013-03-11T00:00:00.000-0700"
        ],
        "thumbnailUrl" => "https://s3.amazonaws.com/AKIAJC5RLADLUMVRPFDQ.book-thumb-images/vinegar.jpg",
        "status" => "PUBLISH",
        "authors" => ["Ben Vinegar", "Anton Kovalyov"],
        "categories" => []
    ],
    [
        "title" => "Multimedia Computing",
        "isbn" => "020152029X",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "1993-09-01T00:00:00.000-0700"
        ],
        "status" => "PUBLISH",
        "authors" => ["Matthew E. Hodges"],
        "categories" => []
    ],
    [
        "title" => "Web Development with JavaServer Pages",
        "isbn" => "1884777996",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "2000-05-15T00:00:00.000-0700"
        ],
        "status" => "PUBLISH",
        "authors" => ["Duane K. Fields", "Mark A. Kolb"],
        "categories" => []
    ],
    [
        "title" => "Up to Speed with Swing",
        "isbn" => "1884777643",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "1998-05-01T00:00:00.000-0700"
        ],
        "status" => "PUBLISH",
        "authors" => ["Steven J. Gutz"],
        "categories" => []
    ],
    [
        "title" => "Manager's Guide to Open Source",
        "isbn" => "193239429X",
        "pageCount" => 0,
        "publishedDate" => [
            "date" => "2004-10-01T00:00:00.000-0700"
        ],
        "status" => "PUBLISH",
        "authors" => ["Maria Winslow"],
        "categories" => []
    ]
];





class Book  {
    public $image;
    public $title;
    public $authors;

    public function __construct($book) {
        $this->title = isset($book['title']) ? $book['title']: 'No title';
        $this->image = isset($book['thumbnailUrl']) ? $book['thumbnailUrl'] : '';
        $this->authors = isset($book['authors']) ? $book['authors'] : []; 
    }
}








?>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="book-catalog.css">
    <title>Document</title>
</head>
<body>

    <h3>Books table</h3>

    <?php

    $newBook = [];
 


    foreach ($books as $bookData) {
        $newBook[] = new Book($bookData);
    }

    if(!empty($newBook)) {
        $newBookArray = get_object_vars($newBook[0]);
    }
 

    $headers = array_keys($newBookArray);

    echo '<table border="1"> <tr>';

    

    foreach ($headers as $header) {
        echo '<th>' . $header .  '</th>';

    }

    echo '</tr>';

    foreach($newBook as $item) {
        $bookArray = get_object_vars($item);

        echo '<tr>';

        foreach ($headers as $header) {

            $value = $item->$header;

            if (is_array($value)) {
                echo '<td>' . implode(',', $value) . '</td>';
            } else if($header === 'image') {
                echo '<td>' . '<img src="'. $value . '">' .'</td>';
            } else {
                echo '<td>' . $value . '</td>';
            }


        }

        echo '</tr>';

        
    }

    echo '</table>';

    ?>




    
</body>
</html>